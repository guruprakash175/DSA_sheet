class Solution {
    public boolean isValid(String s) {
        int n = s.length();
        char[] stack = new char[n];
        int tos = -1;

        for(int i=0; i<n; i++){
            char ch = s.charAt(i);

            if(ch == '[' || ch =='{' || ch =='('){
                stack[++tos] = s.charAt(i);
            }else{
                if(tos == -1) return false;
                char open = stack[tos--];

                if((ch==']' && open!='[') || 
                (ch=='}' && open !='{') || 
                (ch==')' && open !='(')){
                    return false;
                }
            }
        }
        return tos==-1;
    }
}
